(function(){"use strict";var t,e,n=[].slice,r={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(t,e){var r,s,o,a,p,h,f,c,l;return a=t.Strings,l=t.Types,f=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],t.length<2&&(l.isString(t[0])?t=a.split(t.join(" ")):l.isArray(t[0])&&(t=t[0])),t},c=function(t){var e,n,r,i,u,s,o,p;for(s=function(){return a.times("	",s.count)},s.count=0,e=function(t){var e;return e=a.hasUpper(t)?1:0,a.times(" ",c.valuePosition-e-t.length)},u="",i="",r=o=0,p=t.length;p>o;r=++o)switch(n=t[r]){case"{":s.count++,u+="{\n"+s(),i="";break;case"}":s.count--,u+="\n"+s()+"}\n"+s();break;case":":u+=s.count>0?e(i)+n+" ":n;break;case";":u+="}"===t[r+1]?n:";\n"+s(),i="";break;default:u+=n,i+=n}return u},c.valuePosition=18,r=function(){function t(){}return t.prefixes=["-webkit-","-moz-","-o-","-ms-",""],t.specific=[],t.each=function(e,n){var r,i,u,s,o;for(n=f(n),void 0===n[0]&&(n=t.prefixes),o=[],i=u=0,s=n.length;s>u;i=++u)r=n[i],o.push(e(r,i));return o},t}(),h=function(){function t(){this.unit={}}var e,r;return r=function(t,e,n){var r,i,u,s;for(s=[],i=0,u=n.length;u>i;i++)r=n[i],s.push(t.unit[a.toCamel(r)]=e);return s},e=function(t,e){var n,r,i,u;for(u=[],r=0,i=e.length;i>r;r++)n=e[r],u.push(delete t.unit[a.toCamel(n)]);return u},t.all=["%","px","pt","em","pc","ex","deg","cm","mm","ms","s","ch","rem","vw","vh","vmin","vmax","in","grad","rad","turn","Hz","kHz","dpi","dpcm","dppx"],t.unit={},t.hasUnit=function(e){var n,r,i,u,s,o;for(o=t.all,n=u=0,s=o.length;s>u;n=++u)if(i=o[n],r=new RegExp("^[0-9]+"+i+"$"),r.exec(e))return t.all[n];return!1},t.strip=function(e){var n;return(n=t.hasUnit(e))?a.remove(e,n):e},t.set=function(){var e,i;return i=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],r(t,i,f.apply(this,e)),t},t.remove=function(){var r;return r=1<=arguments.length?n.call(arguments,0):[],e(t,f.apply(this,r)),t},t.prototype.get=function(){var e,r,i,u,s,o,p;if(e=arguments[0],s=arguments[1],i=3<=arguments.length?n.call(arguments,2):[],!t.hasUnit(s)){if(u=this.unit[a.toCamel(e)])return u;for(i.push(t),o=0,p=i.length;p>o;o++)if(r=i[o],""!==(u=l.forceString(r.unit[a.toCamel(e)])))return u}return""},t.prototype.set=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],r(this,e,f.apply(this,t)),this},t.prototype.remove=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],e(this,f.apply(this,t)),this},t}(),o=function(){function t(t){this.parent=t,this.keyframes={},this.units=new h,this.unit=this.units.unit}return t.prototype.add=function(t,e,n){var r,i,u;if(!this.keyframes[t]||n){this.keyframes[t]={};for(r in e)i=e[r],r=a.trim(r),u=a.contains(r,"%")?"":"%",this.keyframes[t][r+u]=i;return this}},t.prototype.remove=function(t){return delete this.keyframes[t],this},t.prototype.set=function(t,e){return this.add(t,e,!0)},t.prototype.get=function(t){var e,n,r,i,u,s,o;if(!this.keyframes[t])return"";n=t+"{",o=this.keyframes[t];for(e in o){i=o[e],n+=e+"{";for(r in i)s=i[r],u=this.units.get(r,s,this.parent.units),n+=r+":"+s+u+";";n+="}"}return n+="}"},t.prototype.get_=function(t){return c(this.get(t))},t.prototype.dump=function(t){var e,n,i,u;e="",u=this.keyframes;for(n in u)i=u[n],r.each(function(t){return function(r){return e+="@"+r+"keyframes "+t.get(n)}}(this),t);return e},t.prototype.dump_=function(){return c(this.dump)},t}(),p=function(){function e(t){this.parent=t,"undefined"!=typeof window&&null!==window&&(this.sheet=e.createSheet())}return e.createSheet=function(){var t;return t=document.createElement("style"),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t},e.remove=function(t){var e;return"undefined"!=typeof window&&null!==window?(e=document.querySelector(t),e.remove()):void 0},e.prototype.setSheet=function(t){return this.sheet.innerHTML=l.forceString(t),this},e.prototype.set=function(e,n){var r,i,u;return r=function(t){return function(e,n,r){var i;if(e)return r+=t.parent.units.get(n,r),i=document.querySelector(e),i?i.style[n]=r:void 0}}(this),"undefined"!=typeof window&&null!==window?l.isObject(n)?this.parent.xs(function(n,i,u){return u=new t(u),u.startsWith(e)&&l.notObject(i)?(u=u.remove(-1).$,r(u,n,i)):void 0}):(u=new t(e),i=u.pop(),r(u.$,i,n)):void 0},e}(),s=function(n){function s(t,e){s.__super__.constructor.call(this,t,e),this.style=new p(this),this.stylesheet=this.style.sheet,this.keyframes=new o(this),this.units=new h,this.unit=this.units.unit,this.prefixes=[],this.specific=[]}return i(s,n),s.Xs=e,s.Words=t,s.Strings=t.Strings,s.Types=t.Types,s.Units=h,s.unit=h.unit,s.Keyframes=o,s.Browser=r,s.valuePosition=c.valuePosition,s.prototype.keyVal=function(t,e){var n,i,s,o;return o=this.units.get(t,e),i=a.unCamel(t),n="",s=this.specific.length<1?r.specific:this.specific,u.call(s,t)>=0?(r.each(function(t){return n+=t+i+":"+e+o+";"},this.prefixes),n):i+":"+e+o+";"},s.prototype.remove=function(t,e){return null==e&&(e=!0),s.__super__.remove.call(this,t),e&&p.remove(t),this},s.prototype.add=function(t,e,n){return s.__super__.add.call(this,t,e),n&&this.style.set(t,e),this},s.prototype.set=function(t,e,n){return null==n&&(n=!0),s.__super__.set.call(this,t,e),n&&this.style.set(t,e),this},s.prototype.get=function(t){var e;return l.isStringOrNumber(e=s.__super__.get.call(this,t))?e:""},s.prototype.gets=function(t){return l.forceString(s.__super__.gets.call(this,a.toCamel(t)))},s.prototype.getn=function(t,e){return null==e&&(e=0),l.forceNumber(this.get(t),e)},s.prototype.getu=function(e){var n;return n=this.gets(e),n+this.units.get(new t(e).get(-1),n)},s.prototype.getRule=function(t){var n,r,i,u;if(t=a.oneSpaceAndTrim(t),e.empty(r=this.geto(t)))return"";i="";for(n in r)u=r[n],l.isStringOrNumber(u)&&(i+=this.keyVal(n,u));return i?t+"{"+i+"}":""},s.prototype.getRule_=function(t){return c(this.getRule(t))},s.prototype.getRules=function(e){var n,r,i,u,s,o;if(e=a.oneSpaceAndTrim(e),r=this.list(e),r.length<1)return"";for(i="",u="",s=0,o=r.length;o>s;s++)n=r[s],n.key!==new t(e).get(-1)&&l.isStringOrNumber(n.value)&&(n.path=new t(n.path).remove(-1).$,n.path=a.xs(n.path,function(t,e){return" "!==n.path[e]||":"!==n.path[e+1]?t:void 0}),n.path!==i&&(""!==u&&(u+="}"),i=n.path,u+=i+"{"),u+=this.keyVal(n.key,n.value));return u?u+"}":""},s.prototype.getRules_=function(t){return c(this.getRules(t))},s.prototype.dump=function(t){var e,n,r,i,u,s;e=this.keyframes.dump(this.prefixes),r=[];for(n in this.object)r.push(n);for(u=0,s=r.length;s>u;u++)i=r[u],e+=this.getRules(i);return t&&this.style.setSheet(e),e},s.prototype.dump_=function(t){return c(this.dump(t))},s}(e)},"undefined"!=typeof define&&null!==define&&"function"==typeof define&&define.amd?define("css",["words","xs"],function(t,n){return e(t,n)}):"undefined"!=typeof window&&null!==window?window.Css=e(window.Words,window.Xs):"undefined"!=typeof module&&null!==module&&(t=require("xs.js"),module.exports=e(t.Words,t))}).call(this);