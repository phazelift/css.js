(function(){"use strict";var t,e,n=[].slice,r={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(t,e){var r,o,s,a,p,h,f,c;return a=t.Strings,c=t.Types,f=function(t){var e,n,r,i,u,o,s,p;for(o=function(){return a.times("	",o.count)},o.count=0,e=function(t){var e;return e=a.hasUpper(t)?1:0,a.times(" ",f.valuePosition-e-t.length)},u="",i="",r=s=0,p=t.length;p>s;r=++s)switch(n=t[r]){case"{":o.count++,u+="{\n"+o(),i="";break;case"}":o.count--,u+="\n"+o()+"}\n"+o();break;case":":u+=o.count>0?e(i)+n+" ":n;break;case";":u+="}"===t[r+1]?n:";\n"+o(),i="";break;default:u+=n,i+=n}return u},f.valuePosition=18,r=function(){function t(){}return t.prefixes=["-webkit-","-moz-","-o-","-ms-",""],t.specific=[],t.each=function(e,n){var r,i,u,o,s;for(n=c.intoArray(n),void 0===n[0]&&(n=t.prefixes),s=[],i=u=0,o=n.length;o>u;i=++u)r=n[i],s.push(e(r,i));return s},t}(),h=function(){function t(){this.unit={}}var e,r;return r=function(t,e,n){var r,i,u,o;for(o=[],i=0,u=n.length;u>i;i++)r=n[i],o.push(t.unit[a.toCamel(r)]=e);return o},e=function(t,e){var n,r,i,u;for(u=[],r=0,i=e.length;i>r;r++)n=e[r],u.push(delete t.unit[a.toCamel(n)]);return u},t.all=["%","px","pt","em","pc","ex","deg","cm","mm","ms","s","ch","rem","vw","vh","vmin","vmax","in","grad","rad","turn","Hz","kHz","dpi","dpcm","dppx"],t.unit={},t.hasUnit=function(e){var n,r,i,u,o,s;for(s=t.all,n=u=0,o=s.length;o>u;n=++u)if(i=s[n],r=new RegExp("^[0-9]+"+i+"$"),r.exec(e))return t.all[n];return!1},t.strip=function(e){var n;return(n=t.hasUnit(e))?a.remove(e,n):e},t.set=function(){var e,i;return i=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],r(t,i,c.intoArray.apply(this,e)),t},t.remove=function(){var r;return r=1<=arguments.length?n.call(arguments,0):[],e(t,c.intoArray.apply(this,r)),t},t.prototype.get=function(){var e,r,i,u,o,s,p;if(e=arguments[0],o=arguments[1],i=3<=arguments.length?n.call(arguments,2):[],!t.hasUnit(o)){if(u=this.unit[a.toCamel(e)])return u;for(i.push(t),s=0,p=i.length;p>s;s++)if(r=i[s],""!==(u=c.forceString(r.unit[a.toCamel(e)])))return u}return""},t.prototype.set=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],r(this,e,c.intoArray.apply(this,t)),this},t.prototype.remove=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],e(this,c.intoArray.apply(this,t)),this},t}(),s=function(){function t(t){this.parent=t,this.keyframes={},this.units=new h,this.unit=this.units.unit}return t.prototype.add=function(t,e,n){var r,i,u;if(!this.keyframes[t]||n){this.keyframes[t]={};for(r in e)i=e[r],r=a.trim(r),u=a.contains(r,"%")?"":"%",this.keyframes[t][r+u]=i;return this}},t.prototype.remove=function(t){return delete this.keyframes[t],this},t.prototype.set=function(t,e){return this.add(t,e,!0)},t.prototype.get=function(t){var e,n,r,i,u,o,s;if(!this.keyframes[t])return"";n=t+"{",s=this.keyframes[t];for(e in s){i=s[e],n+=e+"{";for(r in i)o=i[r],u=this.units.get(r,o,this.parent.units),n+=r+":"+o+u+";";n+="}"}return n+="}"},t.prototype.get_=function(t){return f(this.get(t))},t.prototype.dump=function(t){var e,n,i,u;e="",u=this.keyframes;for(n in u)i=u[n],r.each(function(t){return function(r){return e+="@"+r+"keyframes "+t.get(n)}}(this),t);return e},t.prototype.dump_=function(){return f(this.dump)},t}(),p=function(){function e(t){this.parent=t,"undefined"!=typeof window&&null!==window&&(this.sheet=e.createSheet())}return e.createSheet=function(){var t;return t=document.createElement("style"),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t},e.remove=function(t){var e;return"undefined"!=typeof window&&null!==window?(e=document.querySelector(t),e.remove()):void 0},e.prototype.setSheet=function(t){return this.sheet.innerHTML=c.forceString(t),this},e.prototype.set=function(e,n){var r,i,u;return r=function(t){return function(e,n,r){var i;if(e)return r+=t.parent.units.get(n,r),i=document.querySelector(e),i?i.style[n]=r:void 0}}(this),"undefined"!=typeof window&&null!==window?c.isObject(n)?this.parent.xs(function(n,i,u){return u=new t(u),u.startsWith(e)&&c.notObject(i)?(u=u.remove(-1).$,r(u,n,i)):void 0}):(u=new t(e),i=u.pop(),r(u.$,i,n)):void 0},e}(),o=function(n){function o(t,e){o.__super__.constructor.call(this,t,e),this.style=new p(this),this.stylesheet=this.style.sheet,this.keyframes=new s(this),this.units=new h,this.unit=this.units.unit,this.prefixes=[],this.specific=[]}return i(o,n),o.Xs=e,o.Words=t,o.Strings=t.Strings,o.Types=t.Types,o.Units=h,o.unit=h.unit,o.Keyframes=s,o.Browser=r,o.valuePosition=f.valuePosition,o.prototype.keyVal=function(t,e){var n,i,o,s;return s=this.units.get(t,e),i=a.unCamel(t),n="",o=this.specific.length<1?r.specific:this.specific,u.call(o,t)>=0?(r.each(function(t){return n+=t+i+":"+e+s+";"},this.prefixes),n):i+":"+e+s+";"},o.prototype.remove=function(t,e){return null==e&&(e=!0),o.__super__.remove.call(this,t),e&&p.remove(t),this},o.prototype.add=function(t,e,n){return o.__super__.add.call(this,t,e),n&&this.style.set(t,e),this},o.prototype.set=function(t,e,n){return null==n&&(n=!0),o.__super__.set.call(this,t,e),n&&this.style.set(t,e),this},o.prototype.get=function(t){var e;return c.isStringOrNumber(e=o.__super__.get.call(this,t))?e:""},o.prototype.gets=function(t){return c.forceString(o.__super__.gets.call(this,a.toCamel(t)))},o.prototype.getn=function(t,e){return null==e&&(e=0),c.forceNumber(this.get(t),e)},o.prototype.getu=function(e){var n;return n=this.gets(e),n+this.units.get(new t(e).get(-1),n)},o.prototype.getRule=function(t){var n,r,i,u;if(t=a.oneSpaceAndTrim(t),e.empty(r=this.geto(t)))return"";i="";for(n in r)u=r[n],c.isStringOrNumber(u)&&(i+=this.keyVal(n,u));return i?t+"{"+i+"}":""},o.prototype.getRule_=function(t){return f(this.getRule(t))},o.prototype.getRules=function(e){var n,r,i,u,o,s,p;if(e=a.oneSpaceAndTrim(e),r=this.list(e),r.length<1)return"";for(i="",u="",o=new t(e).get(-1),s=0,p=r.length;p>s;s++)n=r[s],n.key!==o&&c.isStringOrNumber(n.value)&&(n.path=new t(n.path).remove(-1).$,n.path=a.xs(n.path,function(t,e){return" "!==n.path[e]||":"!==n.path[e+1]?t:void 0}),n.path!==i&&(""!==u&&(u+="}"),i=n.path,u+=i+"{"),u+=this.keyVal(n.key,n.value));return u?u+"}":""},o.prototype.getRules_=function(t){return f(this.getRules(t))},o.prototype.dump=function(t){var e,n,r,i,u,o;null==t&&(t=!0),e=this.keyframes.dump(this.prefixes),r=[];for(n in this.object)r.push(n);for(u=0,o=r.length;o>u;u++)i=r[u],e+=this.getRules(i);return t&&this.style.setSheet(e),e},o.prototype.dump_=function(t){return f(this.dump(t))},o}(e)},"undefined"!=typeof define&&null!==define&&"function"==typeof define&&define.amd?define("css",["words.min","xs.min"],function(t,n){return e(t,n)}):"undefined"!=typeof window&&null!==window?window.Css=e(window.Words,window.Xs):"undefined"!=typeof module&&null!==module&&(t=require("xs.js"),module.exports=e(t.Words,t))}).call(this);